- request:
    method: GET
    url: /register/test-register
    query:
        _representation: json

  response:
    status: 200
    headers:
      content-type: application/json
    body: >
      {"hash":"759f1921d04fb297f825c3fede183516dbede0b3","entry":{"register": "test-register","name": "Test Register", "fields":["test-register", "name","key1","key2"]}}

- request:
    method: GET
    url: /register/test-register-with-fields-that-dont-exist
    query:
        _representation: json

  response:
    status: 200
    headers:
      content-type: application/json
    body: >
      {"hash":"759f1921d04fb297f825c3fede183516dbede0b3","entry":{"register": "test-register-with-fields-that-dont-exist","name": "Test Register", "fields":["test-register-with-fields-that-dont-exist", "unknown"]}}

- request:
    method: GET
    url: /field/test-register
    query:
        _representation: json

  response:
    status: 200
    headers:
      content-type: application/json
    body: >
      {"hash":"759f1921d04fb297f825c3fede183516dbede0b3","entry":{"field": "test-register","name": "Test Field", "datatype": "string"}}

- request:
    method: GET
    url: /field/name
    query:
        _representation: json

  response:
    status: 200
    headers:
      content-type: application/json
    body: >
      {"hash":"759f1921d04fb297f825c3fede183516dbede0b3","entry":{"field": "name","name": "Name Field", "datatype": "string"}}

- request:
    method: GET
    url: /field/key1
    query:
        _representation: json

  response:
    status: 200
    headers:
      content-type: application/json
    body: >
      {"hash":"759f1921d04fb297f825c3fede183516dbede0b3","entry":{"field": "key1","name": "key1 Field", "datatype": "string"}}

- request:
    method: GET
    url: /field/key2
    query:
        _representation: json

  response:
    status: 200
    headers:
      content-type: application/json
    body: >
      {"hash":"759f1921d04fb297f825c3fede183516dbede0b3","entry":{"field": "key2","name": "key2 Field", "datatype": "string"}}

- request:
    url: ^.*$
    method: GET

  response:
    status: 404
    headers:
      content-type: text/plain
    x-foo: bar
    body: >
      No page configured at this url yet